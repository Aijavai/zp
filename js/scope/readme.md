# 作用域
- 作用域是变量查找的规则，管理变量**生命周期**...

- 其他的语言都要支持块级作用域，而es5不用支持，为了简单设计。
  没有了块级作用域，再把作用域内部的变量统一提升到作用域的顶部（执行上下文的作用域），是最快、最简单的设计。


## 变量提升带来的问题
- 变量容易在不被察觉的情况下被覆盖掉
  作用域会使用函数执行上下文里面的变量
- 本应该销毁的变量没有被销毁

- JS　如何在现在让变量提升和块级作用域统一和谐
　- 站在执行上下文的角度
  - var 放在变量环境
  - let 放在词法环境

- 第一步编译并创建执行上下文
  - 变量环境
    - 变量提升
  - 词法环境
    - 暂时性死区
    - 块级作用域
- 继续执行到块级作用域
  - 块级作用域中通过let/const 声明的变量，会被放在词法环境的一个单独的区域中。
  - 在词法环境内部，维护了一个小型栈结构
    块级作用域执行时，首先会查找块级作用域里面的变量
      词法环境中找变量，在栈顶查找
    块级作用域执行完后，要出栈，可以确保外界不可访问

- es6 是如何支持块级作用域的？
  从执行上下文角度分析，是栈结构的词法环境

块级作用域变量管理太复杂了，为了方便管理，es5 不支持块级作用域，
使用hositing  统一管理变量。

类设计太复杂了，private public ....  
js设计者 使用 function + prototype 代替了类 