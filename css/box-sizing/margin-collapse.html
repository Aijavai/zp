<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Margin åˆå¹¶/å¡Œé™·æ¼”ç¤º</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f5f5f5;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 40px;
      font-size: 36px;
    }

    .demo-card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .card-title {
      font-size: 24px;
      color: #667eea;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #667eea;
    }

    .demo-area {
      border: 2px dashed #ccc;
      padding: 20px;
      margin: 20px 0;
      background: #fafafa;
      border-radius: 8px;
      position: relative;
    }

    .code-block {
      background: #282c34;
      color: #abb2bf;
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }

    .code-block .keyword { color: #c678dd; }
    .code-block .class { color: #e5c07b; }
    .code-block .property { color: #56b6c2; }
    .code-block .value { color: #98c379; }
    .code-block .comment { color: #5c6370; font-style: italic; }

    .info-box {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 15px;
      margin: 15px 0;
      border-radius: 4px;
    }

    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
      border-radius: 4px;
    }

    .success-box {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 15px 0;
      border-radius: 4px;
    }

    /* åœºæ™¯1: ç›¸é‚»å…„å¼Ÿå…ƒç´  */
    .sibling-demo .box1 {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
    }

    .sibling-demo .box2 {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 20px;
      margin-top: 20px;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
    }

    /* åœºæ™¯2: çˆ¶å­å…ƒç´  - ä¼šå¡Œé™· */
    .parent-collapse {
      background: #e8f5e9;
      border: 3px solid #4caf50;
      margin-top: 20px;
      min-height: 150px;
      border-radius: 8px;
    }

    .child-collapse {
      background: #fff9c4;
      border: 3px solid #ffc107;
      padding: 20px;
      margin-top: 30px;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
    }

    /* åœºæ™¯3: çˆ¶å­å…ƒç´  - ä¸å¡Œé™· (BFC) */
    .parent-no-collapse {
      background: #e8f5e9;
      border: 3px solid #4caf50;
      margin-top: 20px;
      overflow: hidden; /* åˆ›å»º BFC */
      min-height: 150px;
      border-radius: 8px;
    }

    .child-no-collapse {
      background: #fff9c4;
      border: 3px solid #ffc107;
      padding: 20px;
      margin-top: 30px;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
    }

    /* åœºæ™¯4: ç©ºå…ƒç´  */
    .empty-box {
      background: #f3e5f5;
      border: 3px solid #9c27b0;
      margin-top: 30px;
      margin-bottom: 40px;
      /* æ²¡æœ‰å†…å®¹ï¼Œé«˜åº¦ä¸º0 */
    }

    /* å¯¹æ¯”ç»„ */
    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin: 20px 0;
    }

    .comparison-item {
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      background: #fafafa;
    }

    .comparison-title {
      font-weight: 600;
      color: #667eea;
      margin-bottom: 15px;
      text-align: center;
    }

    /* æµ‹é‡çº¿ */
    .measure {
      position: absolute;
      right: -50px;
      top: 0;
      bottom: 0;
      width: 40px;
      border-left: 2px solid #f44336;
      border-right: 2px solid #f44336;
    }

    .measure::before {
      content: '';
      position: absolute;
      top: 0;
      left: -2px;
      width: 40px;
      height: 2px;
      background: #f44336;
    }

    .measure::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: -2px;
      width: 40px;
      height: 2px;
      background: #f44336;
    }

    .measure-label {
      position: absolute;
      right: -90px;
      top: 50%;
      transform: translateY(-50%);
      background: #f44336;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
      white-space: nowrap;
    }

    /* æŒ‰é’® */
    .toggle-btn {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      margin: 10px 5px;
    }

    .toggle-btn:hover {
      background: #764ba2;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .toggle-btn.active {
      background: #28a745;
    }

    /* å“åº”å¼ */
    @media (max-width: 768px) {
      .comparison-grid {
        grid-template-columns: 1fr;
      }

      .measure {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¯ Margin åˆå¹¶/å¡Œé™·å®Œæ•´æ¼”ç¤º</h1>

    <!-- åœºæ™¯1: ç›¸é‚»å…„å¼Ÿå…ƒç´  -->
    <div class="demo-card">
      <h2 class="card-title">åœºæ™¯ 1: ç›¸é‚»å…„å¼Ÿå…ƒç´ çš„ Margin åˆå¹¶</h2>
      
      <div class="info-box">
        <strong>ğŸ“Œ è§„åˆ™:</strong> ä¸¤ä¸ªå‚ç›´ç›¸é‚»çš„å…ƒç´ ï¼Œå®ƒä»¬çš„ä¸Šä¸‹ margin ä¼šåˆå¹¶ï¼Œå–è¾ƒå¤§å€¼ã€‚
      </div>

      <div class="demo-area sibling-demo">
        <div class="box1">
          Box 1<br>
          <small>margin-bottom: 30px</small>
        </div>
        <div class="box2">
          Box 2<br>
          <small>margin-top: 20px</small>
        </div>
      </div>

      <div class="warning-box">
        <strong>âš ï¸ å®é™…é—´è·:</strong> 30pxï¼ˆä¸æ˜¯ 30px + 20px = 50pxï¼‰<br>
        <strong>åŸå› :</strong> å‚ç›´ margin ä¼šåˆå¹¶ï¼Œå– max(30px, 20px) = 30px
      </div>

      <div class="code-block">
<span class="class">.box1</span> {
  <span class="property">margin-bottom</span>: <span class="value">30px</span>;
}
<span class="class">.box2</span> {
  <span class="property">margin-top</span>: <span class="value">20px</span>;
}
<span class="comment">/* å®é™…é—´è· = 30pxï¼ˆåˆå¹¶äº†ï¼‰ */</span>
      </div>
    </div>

    <!-- åœºæ™¯2: çˆ¶å­å…ƒç´ å¡Œé™· -->
    <div class="demo-card">
      <h2 class="card-title">åœºæ™¯ 2: çˆ¶å­å…ƒç´ çš„ Margin å¡Œé™·</h2>
      
      <div class="info-box">
        <strong>ğŸ“Œ é—®é¢˜:</strong> å­å…ƒç´ çš„ margin-top ä¼š"æº¢å‡º"åˆ°çˆ¶å…ƒç´ å¤–é¢ï¼Œä¸çˆ¶å…ƒç´ çš„ margin-top åˆå¹¶ã€‚
      </div>

      <div class="comparison-grid">
        <!-- æœ‰å¡Œé™· -->
        <div class="comparison-item">
          <div class="comparison-title">âŒ æœ‰å¡Œé™·ï¼ˆé»˜è®¤æƒ…å†µï¼‰</div>
          <div class="demo-area" style="padding: 0;">
            <div class="parent-collapse" style="overflow: visible;">
              <div style="padding: 10px; color: #4caf50; font-weight: 600;">
                Parent (margin-top: 20px)
              </div>
              <div class="child-collapse">
                Child<br>
                <small>margin-top: 30px</small>
              </div>
            </div>
          </div>
          <div class="warning-box">
            å­å…ƒç´ çš„ 30px margin æº¢å‡ºåˆ°çˆ¶å…ƒç´ å¤–é¢äº†ï¼
          </div>
        </div>

        <!-- æ— å¡Œé™· -->
        <div class="comparison-item">
          <div class="comparison-title">âœ… æ— å¡Œé™·ï¼ˆoverflow: hiddenï¼‰</div>
          <div class="demo-area" style="padding: 0;">
            <div class="parent-no-collapse">
              <div style="padding: 10px; color: #4caf50; font-weight: 600;">
                Parent (overflow: hidden)
              </div>
              <div class="child-no-collapse">
                Child<br>
                <small>margin-top: 30px</small>
              </div>
            </div>
          </div>
          <div class="success-box">
            ä½¿ç”¨ overflow: hidden åˆ›å»º BFCï¼Œé˜²æ­¢å¡Œé™·ï¼
          </div>
        </div>
      </div>

      <div class="code-block">
<span class="comment">/* âŒ ä¼šå¡Œé™· */</span>
<span class="class">.parent</span> {
  <span class="property">margin-top</span>: <span class="value">20px</span>;
}
<span class="class">.child</span> {
  <span class="property">margin-top</span>: <span class="value">30px</span>;
  <span class="comment">/* è¿™ä¸ª 30px ä¼šæº¢å‡ºåˆ°çˆ¶å…ƒç´ å¤–é¢ */</span>
}

<span class="comment">/* âœ… ä¸å¡Œé™· - åˆ›å»º BFC */</span>
<span class="class">.parent</span> {
  <span class="property">overflow</span>: <span class="value">hidden</span>;  <span class="comment">/* æ–¹æ³•1 */</span>
  <span class="comment">/* æˆ– display: flow-root; æ–¹æ³•2 */</span>
  <span class="comment">/* æˆ– border-top: 1px solid transparent; æ–¹æ³•3 */</span>
  <span class="comment">/* æˆ– padding-top: 1px; æ–¹æ³•4 */</span>
}
      </div>
    </div>

    <!-- åœºæ™¯3: ç©ºå…ƒç´  -->
    <div class="demo-card">
      <h2 class="card-title">åœºæ™¯ 3: ç©ºå…ƒç´ è‡ªèº«çš„ Margin åˆå¹¶</h2>
      
      <div class="info-box">
        <strong>ğŸ“Œ è§„åˆ™:</strong> å¦‚æœå…ƒç´ æ²¡æœ‰ borderã€paddingã€å†…å®¹ï¼Œå®ƒçš„ä¸Šä¸‹ margin ä¼šåˆå¹¶ã€‚
      </div>

      <div class="demo-area">
        <div class="empty-box"></div>
      </div>

      <div class="warning-box">
        <strong>ç©ºå…ƒç´ :</strong> margin-top: 30px + margin-bottom: 40px<br>
        <strong>å®é™…æ•ˆæœ:</strong> ä¸Šä¸‹æ€»å…±åªæœ‰ 40pxï¼ˆå–è¾ƒå¤§å€¼ï¼‰
      </div>

      <div class="code-block">
<span class="class">.empty</span> {
  <span class="property">margin-top</span>: <span class="value">30px</span>;
  <span class="property">margin-bottom</span>: <span class="value">40px</span>;
  <span class="comment">/* æ²¡æœ‰ borderã€paddingã€heightã€å†…å®¹ */</span>
  <span class="comment">/* ä¸Šä¸‹ margin ä¼šåˆå¹¶æˆ 40px */</span>
}
      </div>
    </div>

    <!-- è§£å†³æ–¹æ¡ˆæ€»ç»“ -->
    <div class="demo-card">
      <h2 class="card-title">ğŸ› ï¸ é˜²æ­¢ Margin å¡Œé™·çš„æ‰€æœ‰æ–¹æ³•</h2>

      <div class="code-block">
<span class="comment">/* æ–¹æ³•1: åˆ›å»º BFCï¼ˆæœ€æ¨èï¼‰ */</span>
<span class="class">.parent</span> {
  <span class="property">overflow</span>: <span class="value">hidden</span>;
  <span class="comment">/* æˆ– overflow: auto; */</span>
  <span class="comment">/* æˆ– display: flow-root; (æœ€æ–°æ–¹æ¡ˆ) */</span>
}

<span class="comment">/* æ–¹æ³•2: æ·»åŠ  border */</span>
<span class="class">.parent</span> {
  <span class="property">border-top</span>: <span class="value">1px solid transparent</span>;
}

<span class="comment">/* æ–¹æ³•3: æ·»åŠ  padding */</span>
<span class="class">.parent</span> {
  <span class="property">padding-top</span>: <span class="value">1px</span>;
}

<span class="comment">/* æ–¹æ³•4: æµ®åŠ¨ */</span>
<span class="class">.parent</span> {
  <span class="property">float</span>: <span class="value">left</span>;
}

<span class="comment">/* æ–¹æ³•5: ç»å¯¹å®šä½ */</span>
<span class="class">.parent</span> {
  <span class="property">position</span>: <span class="value">absolute</span>;
}

<span class="comment">/* æ–¹æ³•6: inline-block */</span>
<span class="class">.parent</span> {
  <span class="property">display</span>: <span class="value">inline-block</span>;
}

<span class="comment">/* æ–¹æ³•7: flex/gridï¼ˆæ¨èï¼‰ */</span>
<span class="class">.parent</span> {
  <span class="property">display</span>: <span class="value">flex</span>;
  <span class="property">flex-direction</span>: <span class="value">column</span>;
  <span class="comment">/* flex å®¹å™¨å†…çš„é¡¹ç›®ä¸ä¼š margin åˆå¹¶ */</span>
}
      </div>

      <div class="success-box">
        <strong>ğŸ’¡ æ¨èæ–¹æ¡ˆ:</strong><br>
        â€¢ ç°ä»£é¡¹ç›®: ä½¿ç”¨ <code>display: flex</code> æˆ– <code>display: grid</code><br>
        â€¢ éœ€è¦å…¼å®¹æ€§: ä½¿ç”¨ <code>overflow: hidden</code><br>
        â€¢ æœ€æ–°æµè§ˆå™¨: ä½¿ç”¨ <code>display: flow-root</code>ï¼ˆä¸“é—¨ç”¨äºåˆ›å»º BFCï¼‰
      </div>
    </div>

    <!-- äº¤äº’æ¼”ç¤º -->
    <div class="demo-card">
      <h2 class="card-title">ğŸ® äº¤äº’æ¼”ç¤ºï¼šå°è¯•ä¸åŒçš„è§£å†³æ–¹æ¡ˆ</h2>

      <div style="text-align: center; margin-bottom: 20px;">
        <button class="toggle-btn" onclick="setMethod('none')">æ— å¤„ç†ï¼ˆå¡Œé™·ï¼‰</button>
        <button class="toggle-btn" onclick="setMethod('overflow')">overflow: hidden</button>
        <button class="toggle-btn" onclick="setMethod('border')">border-top</button>
        <button class="toggle-btn" onclick="setMethod('padding')">padding-top</button>
        <button class="toggle-btn" onclick="setMethod('flex')">display: flex</button>
      </div>

      <div class="demo-area" id="interactive-demo">
        <div id="dynamic-parent" style="background: #e8f5e9; border: 3px solid #4caf50; min-height: 150px; border-radius: 8px; margin-top: 20px;">
          <div style="padding: 10px; color: #4caf50; font-weight: 600;">
            Parent
            <small id="method-display" style="color: #f44336;"></small>
          </div>
          <div style="background: #fff9c4; border: 3px solid #ffc107; padding: 20px; margin-top: 30px; border-radius: 8px; text-align: center; font-weight: 600;">
            Child<br>
            <small>margin-top: 30px</small>
          </div>
        </div>
      </div>

      <div id="result-box" class="warning-box">
        ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ï¼ŒæŸ¥çœ‹ä¸åŒè§£å†³æ–¹æ¡ˆçš„æ•ˆæœï¼
      </div>
    </div>

    <!-- é‡è¦æé†’ -->
    <div class="demo-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
      <h2 style="color: white; border-bottom-color: white;">âš ï¸ é‡è¦æé†’</h2>
      <ul style="line-height: 2; font-size: 16px; margin-left: 20px;">
        <li><strong>åªæœ‰å‚ç›´æ–¹å‘çš„ margin ä¼šåˆå¹¶</strong>ï¼Œæ°´å¹³æ–¹å‘ä¸ä¼šï¼</li>
        <li><strong>æµ®åŠ¨å…ƒç´ ã€ç»å¯¹å®šä½å…ƒç´ </strong>çš„ margin ä¸ä¼šåˆå¹¶</li>
        <li><strong>flex/grid å®¹å™¨</strong>å†…çš„é¡¹ç›® margin ä¸ä¼šåˆå¹¶</li>
        <li><strong>åˆ›å»ºäº† BFC</strong> çš„å…ƒç´ ä¸å­å…ƒç´  margin ä¸ä¼šåˆå¹¶</li>
        <li><strong>è¡Œå†…å…ƒç´ </strong>çš„å‚ç›´ margin æ— æ•ˆï¼Œä¸å­˜åœ¨åˆå¹¶é—®é¢˜</li>
      </ul>
    </div>
  </div>

  <script>
    function setMethod(method) {
      const parent = document.getElementById('dynamic-parent');
      const methodDisplay = document.getElementById('method-display');
      const resultBox = document.getElementById('result-box');

      // é‡ç½®æ‰€æœ‰æ ·å¼
      parent.style.overflow = '';
      parent.style.borderTop = '3px solid #4caf50';
      parent.style.paddingTop = '';
      parent.style.display = '';
      parent.style.flexDirection = '';

      // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„ active çŠ¶æ€
      document.querySelectorAll('.toggle-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      switch(method) {
        case 'none':
          methodDisplay.textContent = 'ï¼ˆæ— å¤„ç† - ä¼šå¡Œé™·ï¼‰';
          resultBox.className = 'warning-box';
          resultBox.innerHTML = '<strong>âŒ å¡Œé™·ä¸­:</strong> å­å…ƒç´ çš„ margin-top æº¢å‡ºåˆ°çˆ¶å…ƒç´ å¤–é¢äº†ï¼';
          event.target.classList.add('active');
          break;

        case 'overflow':
          parent.style.overflow = 'hidden';
          methodDisplay.textContent = 'ï¼ˆoverflow: hidden - BFCï¼‰';
          resultBox.className = 'success-box';
          resultBox.innerHTML = '<strong>âœ… å·²è§£å†³:</strong> åˆ›å»º BFCï¼Œmargin è¢«åŒ…å«åœ¨çˆ¶å…ƒç´ å†…ï¼';
          event.target.classList.add('active');
          break;

        case 'border':
          parent.style.borderTop = '4px solid #4caf50';
          methodDisplay.textContent = 'ï¼ˆborder-top: 4pxï¼‰';
          resultBox.className = 'success-box';
          resultBox.innerHTML = '<strong>âœ… å·²è§£å†³:</strong> border é˜»æ­¢äº† margin å¡Œé™·ï¼';
          event.target.classList.add('active');
          break;

        case 'padding':
          parent.style.paddingTop = '1px';
          methodDisplay.textContent = 'ï¼ˆpadding-top: 1pxï¼‰';
          resultBox.className = 'success-box';
          resultBox.innerHTML = '<strong>âœ… å·²è§£å†³:</strong> padding é˜»æ­¢äº† margin å¡Œé™·ï¼';
          event.target.classList.add('active');
          break;

        case 'flex':
          parent.style.display = 'flex';
          parent.style.flexDirection = 'column';
          methodDisplay.textContent = 'ï¼ˆdisplay: flexï¼‰';
          resultBox.className = 'success-box';
          resultBox.innerHTML = '<strong>âœ… å·²è§£å†³:</strong> flex å®¹å™¨å†…çš„é¡¹ç›®ä¸ä¼š margin åˆå¹¶ï¼';
          event.target.classList.add('active');
          break;
      }
    }
  </script>
</body>
</html>

